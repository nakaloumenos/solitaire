Solitaire

![alt text](https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/GNOME_Aisleriot_Solitaire_%28cropped%29.png/640px-GNOME_Aisleriot_Solitaire_%28cropped%29.png)

In the game of solitaire, a single player shuffles a standard deck of 52 cards and then deals out seven fanned piles of cards from left to right with each pile containing one more card than the previous. The top most card in each pile is turned face up.

The remaining cards form the stock and are placed face down in the top left of the layout.

The four foundations are built up by suit from ace to king and the tableau piles can be built down alternating by colour. Every face-up card in a partial or complete pile can be moved as a unit to another tableau pile based on the highest card. If the top card in a tableau pile is face down it can be flipped over and revealed.

The top card from the stock can be flipped over to be revealed on the waste. This card can optionally be played to a foundation or to the tableau. When the stock has been exhausted, the waste is recycled (without shuffling) to the stock.

The game ends when all cards have been promoted to the foundation.

As the probability of winning is so low (1 in 30), games can also be scored:
Waste to tableau: 5 points
Waste to foundation: 10 points
Tableau to foundation: 10 points
Reveal tableau card: 5 points
Foundation to tableau: -15 points
Recycle the waste to the stock: -100 points

Task 1
Implement the basic mechanics of the game of Solitaire.

Task 2
Allow a user to be able to undo up to the most recent 3 moves.

Task 3
Some variants of solitaire flip over 3 cards at once into the waste. Implement the ability to choose which dealing variant to use before the game starts.

Task 4
Some variants of solitaire limit the number of times you can recycle the stock (typically 3). Implement the ability to choose before the game starts.

Task 5
You won’t reach this far - you can stop reading now. Based on the current state of the area of play, calculate whether it is possible for a user to win.

Task 6
Why do you continue to read ahead? You should stop. Another variation of the game uses a 78-card Tarot Nouveau deck instead of the standard 52-card deck. In a Tarot Nouveau deck there are 56 cards organised in four suits of 14 cards (with the addition of Knight between Queen and Jack). There are then 22 “trump” cards numbered Fool, 1-21. The only other change from the standard game is that there are five foundations - one for each suit plus one for the trumps.

Task 7
And yet you still don’t stop… why is that? Do you have a pathological need for completion? What happens if I don’t finish a? Double solitaire is a 2-player variant. Players each have their own stock and their own tableau but share their foundations - and so a player may promote their card to their opponent’s foundation. Players play at their own speed and the first to promote all of their cards to the foundations wins.
